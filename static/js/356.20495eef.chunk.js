"use strict";(self.webpackChunkwallet_finance_app=self.webpackChunkwallet_finance_app||[]).push([[356],{7076:function(e,r,t){t.d(r,{db:function(){return c},t:function(){return o}});var n=t(4702),a=t(9455),i=t(276),s={NODE_ENV:"production",PUBLIC_URL:"/users-firebase",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},l={apiKey:s.REACT_APP_API_KEY,authDomain:s.REACT_APP_AUTH_DOMAIN,databaseURL:s.REACT_APP_DATABASE_URL,projectId:s.REACT_APP_PROJECT_ID,storageBucket:s.REACT_APP_STORAGE_BUCKET,messagingSenderId:s.REACT_APP_MESSAGEING_SENDER_ID,appId:s.REACT_APP_APP_ID},u=(0,n.ZF)(l),c=(0,a.ad)(u),o=(0,i.cF)(u)},356:function(e,r,t){t.r(r),t.d(r,{default:function(){return R}});var n=t(4165),a=t(5861),i=t(4942),s=t(1413),l=t(9439),u=t(2791),c=t(890),o=t(9964),d=t(3239),m=t(4554),h=t(3735),f=t(7071),_=t(6151),p=t(9455),x=t(276),Z=t(5206),b=t(7076),A=t(4819),P=t.n(A),g=P().object({name:P().string().required(),secondName:P().string().required(),email:P().string().pattern(/^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$/).email({minDomainSegments:2,tlds:{allow:["com","net"]}}).required(),tel:P().string().pattern(/(?=.*\+[0-9]{3}\s?[0-9]{2}\s?[0-9]{3}\s?[0-9]{4,5}$)/).required(),birthYear:P().date().iso().required(),avatar:P().any()}),v="cartPage_wrapper__heIJN",E="cartPage_form__F-NCH",j="cartPage_error__7Nr73",C=t(184),S=/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/,T=/(?=.*\+[0-9]{3}\s?[0-9]{2}\s?[0-9]{3}\s?[0-9]{4,5}$)/,N={name:"",secondName:"",email:"",tel:"",birthYear:"",avatar:null},R=function(){var e=(0,u.useState)(N),r=(0,l.Z)(e,2),t=r[0],A=r[1],P=(0,u.useState)(!1),R=(0,l.Z)(P,2),I=R[0],y=R[1],z=(0,u.useState)(null),D=(0,l.Z)(z,2),k=D[0],q=D[1],w=(0,u.useState)(!1),W=(0,l.Z)(w,2),O=W[0],X=W[1],U=(0,u.useState)(!1),H=(0,l.Z)(U,2),K=H[0],L=H[1],Y=function(e){var r=e.target,t=r.name,n=r.value;A((function(e){return(0,s.Z)((0,s.Z)({},e),{},(0,i.Z)({},t,n))}))},B=function(e){if(e.preventDefault(),L(!1),X(!1),""!==t.name.trim()&&""!==t.secondName.trim()&&""!==t.birthYear){if(!S.test(t.email))return X(!0),!1;if(!(t.email.length<3||t.email.length>254))return T.test(t.tel)?!g.validate(t).error||(Z.Am.error("\u041d\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e \u0437\u0430\u0434\u0430\u043d\u043e \u043f\u043e\u043b\u0435"),!1):(L(!0),!1)}else Z.Am.error("\u0417\u0430\u043f\u043e\u0432\u043d\u0456\u0442\u044c \u0432\u0441\u0456 \u043f\u043e\u043b\u044f")},F=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(B(r)){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,y(!0),e.next=7,(0,p.ET)((0,p.hJ)(b.db,"users"),{user:t});case 7:y(!1),Z.Am.success("".concat(t.name," \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u0434\u043e\u0434\u0430\u043d\u043e")),A(N),q(null),r.target.reset(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),Z.Am.error("\u0429\u043e\u0441\u044c \u043f\u0456\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a \u0441\u043f\u0440\u043e\u0431\u0443\u0439 \u0449\u0435 \u0440\u0430\u0437");case 17:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(r){return e.apply(this,arguments)}}();return(0,u.useEffect)((function(){k&&function(){var e=(0,x.iH)(b.t,"/files/".concat(k.name)),r=(0,x.B0)(e,k);r.on("state_changed",(function(){(0,x.Jt)(r.snapshot.ref).then((function(e){A((function(r){return(0,s.Z)((0,s.Z)({},r),{},{avatar:e})}))}))}))}()}),[k]),(0,C.jsxs)("div",{className:v,children:[(0,C.jsx)(c.Z,{variant:"h5",sx:{backgroundColor:"rgb(25, 118, 210)",p:1,pl:5,pr:5,color:"white"},children:"Add User"}),(0,C.jsx)(o.Z,{open:I,sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+3}},children:(0,C.jsx)(d.Z,{color:"grey"})}),(0,C.jsx)(m.Z,{className:E,children:(0,C.jsxs)("form",{onSubmit:function(e){return F(e)},children:[(0,C.jsx)(m.Z,{sx:{mb:3},children:(0,C.jsx)(h.Z,{label:"\u0456\u043c'\u044f",type:"text",name:"name",value:t.name,onChange:Y,fullWidth:!0,size:"medium",required:!0})}),(0,C.jsx)(m.Z,{sx:{mb:3},children:(0,C.jsx)(h.Z,{label:"\u043f\u0440\u0456\u0437\u0432\u0438\u0449\u0435",type:"text",name:"secondName",value:t.secondName,onChange:Y,fullWidth:!0,size:"medium",required:!0})}),(0,C.jsxs)(m.Z,{sx:{mb:3},children:[(0,C.jsx)(h.Z,{label:"email",error:O,type:"email",name:"email",value:t.email,onChange:Y,fullWidth:!0,size:"medium",required:!0}),O?(0,C.jsx)(f.Z,{id:"my-helper-text",className:j,children:"Please enter correct."}):null]}),(0,C.jsxs)(m.Z,{sx:{mb:3},children:[(0,C.jsx)(h.Z,{label:"\u0442\u0435\u043b\u0435\u0444\u043e\u043d",placeholder:"+380 (XX) XXX-XX-XX)",error:K,type:"tel",name:"tel",value:t.tel,onChange:Y,fullWidth:!0,size:"medium",required:!0}),K?(0,C.jsx)(f.Z,{id:"my-helper-text",className:j,children:"Please enter correct."}):null]}),(0,C.jsx)(m.Z,{sx:{mb:3},children:(0,C.jsx)(h.Z,{label:"\u0434\u0430\u0442\u0430 \u043d\u0430\u0440\u043e\u0434\u0436\u0435\u043d\u043d\u044f",type:"date",name:"birthYear",value:t.birthYear,InputLabelProps:{shrink:!0},onChange:Y,fullWidth:!0,size:"medium",required:!0})}),(0,C.jsxs)(m.Z,{sx:{mb:3},children:[(0,C.jsx)(h.Z,{label:"\u0444\u043e\u0442\u043e \u043f\u0440\u043e\u0444\u0435\u043b\u044e",type:"file",InputLabelProps:{shrink:!0},onChange:function(e){return q(e.target.files[0])},fullWidth:!0,size:"medium"}),(0,C.jsx)(f.Z,{id:"my-helper-text",children:"\u041d\u0435 \u043e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u0435 \u043f\u043e\u043b\u0435"})]}),(0,C.jsx)(_.Z,{type:"submit",variant:"contained",fullWidth:!0,children:"\u043d\u0430\u0434\u0456\u0441\u043b\u0430\u0442\u0438"})]})})]})}}}]);
//# sourceMappingURL=356.20495eef.chunk.js.map